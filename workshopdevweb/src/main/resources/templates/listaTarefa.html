<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Minha Lista de Tarefas</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; }
        .header a {
            padding: 10px 15px; background-color: #007bff; color: white;
            text-decoration: none; border-radius: 4px;
        }
        .container { display: flex; gap: 20px; }
        .coluna { width: 50%; }
        ul { list-style-type: none; padding: 0; }
        li {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            background: #f9f9f9;
        }
        li div {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        li strong { font-size: 1.1em; }
        li .data { font-size: 0.9em; color: #555; }
        li .botoes { display: flex; gap: 5px; }
        li button {
            padding: 5px 8px; border: none; border-radius: 4px; cursor: pointer;
            font-size: 0.9em;
        }
        .btn-concluir { background-color: #28a745; color: white; }
        .btn-deletar { background-color: #dc3545; color: white; }
        .concluida strong { text-decoration: line-through; color: #888; }
    </style>
</head>
<body>

<div class="header">
    <h1>Minhas Tarefas</h1>
    <a th:href="@{/criar}">+ Adicionar Nova Tarefa</a>
</div>

<hr>

<div class="container">
    <div class="coluna">
        <h2>Pendentes</h2>

        <div th:if="${tarefasPendentes.isEmpty()}">
            <p>Nenhuma tarefa pendente. Bom trabalho!</p>
        </div>

        <ul th:if="${!tarefasPendentes.isEmpty()}">
            <li th:each="tarefa : ${tarefasPendentes}">
                <div>
                        <span>
                            <strong th:text="${tarefa.titulo}">Título da Tarefa</strong>
                            <br>
                            <span class="data">Entrega: <span th:text="${tarefa.dataDeEntrega}">01/01/2025</span></span>
                        </span>

                    <span class="botoes">
                            <form th:action="@{/concluir/{id}(id=${tarefa.id})}" method="post">
                                <button type="submit" class="btn-concluir">Concluir</button>
                            </form>

                            <form th:action="@{/deletar/{id}(id=${tarefa.id})}" method="post">
                                <button type="submit" class="btn-deletar">Deletar</button>
                            </form>
                        </span>
                </div>
            </li>
        </ul>
    </div>

    <div class="coluna">
        <h2>Concluídas</h2>

        <div th:if="${tarefasConcluidas.isEmpty()}">
            <p>Nenhuma tarefa foi concluída ainda.</p>
        </div>

        <ul th:if="${!tarefasConcluidas.isEmpty()}">
            <li th:each="tarefa : ${tarefasConcluidas}" class="concluida">
                <div>
                        <span>
                            <strong th:text="${tarefa.titulo}">Título da Tarefa</strong>
                            <br>
                            <span class="data">Concluída em: <span th:text="${tarefa.dataFinal}">01/01/2025</span></span>
                        </span>

                    <span class="botoes">
                             <form th:action="@{/deletar/{id}(id=${tarefa.id})}" method="post">
                                <button type="submit" class="btn-deletar">Deletar</button>
                            </form>
                        </span>
                </div>
            </li>
        </ul>
    </div>
</div>

</body>
</html>